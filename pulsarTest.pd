#N canvas 62 72 763 957 10;
#X obj 91 608 soundfiler;
#X obj 33 362 phasor~;
#X floatatom 33 343 5 0 0 1 fundamental\ freq. - - 0;
#X obj 302 587 soundfiler;
#X obj 34 825 dac~;
#X floatatom 223 611 5 0 0 1 formant\ freq - - 0;
#X text 321 497 It is then enveloped by another waveform \, indexed by the phasor * size of env * $x3;
#X obj 223 631 sig~;
#N canvas 0 22 450 278 (subpatch) 0;
#X array pulsaret1 4096 float 0;
#X coords 0 1 4095 -1 200 140 1;
#X restore 28 27 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array envelope1 4096 float 0;
#X coords 0 1 4095 -1 200 140 1 0 0;
#X restore 28 191 graph;
#X obj 88 438 text define waves;
#X msg 88 418 read waves.txt;
#X obj 88 398 loadbang;
#X obj 234 90 text get waves;
#X listbox 234 111 31 0 0 0 - - - 0;
#X floatatom 234 28 5 1 414 0 - - - 0;
#X obj 234 48 t b f;
#X msg 234 69 0;
#X obj 234 255 text get waves;
#X listbox 234 276 31 0 0 0 - - - 0;
#X floatatom 234 193 5 1 414 0 - - - 0;
#X obj 234 213 t b f;
#X msg 234 234 0;
#X msg 91 587 read -resize TABLES/\$1 pulsaret1;
#X msg 302 566 read -resize TABLES/\$1 envelope1;
#X obj 234 131 s puls1;
#X obj 234 296 s env1;
#X obj 91 566 r puls1;
#X obj 302 545 r env1;
#X text 86 381 Read folder of samples from NuPg;
#X obj 36 781 *~ 0.333;
#X text 234 165 number box to select wave;
#X text 234 153 Index tables folder \, use;
#X obj 223 652 lop~ 60;
#X floatatom 294 637 5 0 0 0 - - - 0;
#X floatatom 348 635 5 0 0 0 - - - 0;
#X obj 294 657 sig~;
#X obj 348 655 sig~;
#X obj 36 760 *~ 1;
#X obj 36 694 fexpr~ if($x1 < 1/$x3 \, pulsaret1[$x1*$f2*($x3)] * envelope1[$x1*$f4*($x3)] \, 0)*$y2 \; if($y3%$x5 == 0 || $y3%$x6 == 0 || $y3%$x7 \, 1 \, 0) \; if($x1 < $x1[-1] \, ($y3 + 1) % ($x5 * $x6 * $x7) \, $y3);
#X floatatom 396 635 5 0 0 0 - - - 0;
#X obj 396 655 sig~;
#X text 321 364 Refferring to (Roads \, 2001 \, p2) with his description of a pulsar \, here $x2 = p \, the period of the pulsar \, $x3 = formant freq (or freq of the pulsaret playback). if $x3 = 4 \, there is a ratio of 3:4 \, where 75% of the period is wavlet and the subsequent 25% is silence. When the value of the phasor ramp is below $x3 \, it will play the whole of the wavelet in that space by indexing the wavelet array using the phasor * size of wavelet (samples) * ratio. $x3 = 2 will play the sample at double speed inside the period of the phasor \, allowing a whole cyle to complete;
#X text 171 788 Ratios for Schillinger ryhthm - a counter ($y3) increments every period to a common multiple of $x5 and $x6. When the counter is a multiple of either $x5 or $x6 \, the pulsar is heard \, otherwise it is masked. Alternative rhythm system to the masking solutions proposed in (Roads \, 2001). $y3 detects whether $x1 (the phasor) has a falling edge \, implying the end of a period for its clocking mechanism. If any of the ratios are 0 \, the counter will never advance \, since all pulsars will play anyway.;
#X connect 0 0 39 1;
#X connect 1 0 39 0;
#X connect 2 0 1 0;
#X connect 3 0 39 3;
#X connect 5 0 7 0;
#X connect 7 0 33 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 14 0 25 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 16 1 13 1;
#X connect 17 0 13 0;
#X connect 18 0 19 0;
#X connect 19 0 26 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 18 1;
#X connect 22 0 18 0;
#X connect 23 0 0 0;
#X connect 24 0 3 0;
#X connect 27 0 23 0;
#X connect 28 0 24 0;
#X connect 30 0 4 0;
#X connect 30 0 4 1;
#X connect 33 0 39 2;
#X connect 34 0 36 0;
#X connect 35 0 37 0;
#X connect 36 0 39 4;
#X connect 37 0 39 5;
#X connect 38 0 30 0;
#X connect 39 0 38 0;
#X connect 40 0 41 0;
#X connect 41 0 39 6;
